(this["webpackJsonpreact-p5js-tonejs-starter-kit"]=this["webpackJsonpreact-p5js-tonejs-starter-kit"]||[]).push([[0],{17:function(t,e,i){},30:function(t,e,i){"use strict";i.r(e);var n=i(1),s=i.n(n),a=i(9),r=i.n(a),o=(i(17),i(2));window.p5=o;i(19);var h=i(10),d=i(0);function c(){return Object(d.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(d.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(d.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var u=function(t){for(var e,i,n=t.length;0!==n;)i=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[i],t[i]=e;return t},l=i(11),g=i(12),p=function(){function t(e,i,n,s){Object(l.a)(this,t),this.p=e,this.hue=this.p.random(0,360),this.origin=this.p.createVector(i,n),this.width=0,this.maxWidth=s,this.rotation=0,this.lifeTime=this.p.random(1e4,2e4),this.startTime=this.p.millis(),this.endTime=this.startTime+this.lifeTime;var a=this.p.random(0,this.p.height),r=this.p.random(0,this.p.width);switch(this.direction=this.p.random(["left","right","up","down"]),this.direction){case"left":this.destination=this.p.createVector(0-this.maxWidth,a);break;case"right":this.destination=this.p.createVector(this.p.width+this.maxWidth,a);break;case"up":this.destination=this.p.createVector(r,0-this.maxWidth);break;case"down":this.destination=this.p.createVector(r,this.p.height+this.maxWidth)}}return Object(g.a)(t,[{key:"update",value:function(){this.width<this.maxWidth&&(this.width=this.width+Math.random()),this.rotation++}},{key:"draw",value:function(){var t=0-this.width/2,e=0+this.width/2,i=0-this.width/2,n=0+this.width/2,s=0+this.width/2,a=this.p.millis();if(a<this.endTime){var r=this.p.min(1,(a-this.startTime)/(this.endTime-this.startTime)),o=window.p5.Vector.sub(this.destination,this.origin).mult(r),h=window.p5.Vector.add(this.origin,o);this.p.translate(h.x,h.y),this.p.rotate(this.rotation),this.p.strokeWeight(4),this.p.stroke(this.hue,100,100),this.p.fill(this.hue,100,100,.25),this.p.triangle(t,e,0,i,n,s),this.p.rotate(-this.rotation),this.p.translate(-h.x,-h.y)}}}]),t}(),f=i.p+"static/media/triangles-no-4.313b47ce.ogg",w=i.p+"static/media/triangles-no-4.50ad8272.mid",m=function(){var t=Object(n.useRef)(),e=function(t){t.canvas=null,t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.audioLoaded=!1,t.player=null,t.PPQ=15360,t.loadMidi=function(){h.Midi.fromUrl(w).then((function(e){console.log(e);var i=e.tracks[4].notes,n=e.tracks[1].notes,s=e.tracks[7].notes;t.scheduleCueSet(i,"executeCueSet1"),t.scheduleCueSet(n,"executeCueSet2"),t.scheduleCueSet(s,"executeCueSet3"),t.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},t.preload=function(){t.song=t.loadSound(f,t.loadMidi),t.song.onended(t.logCredits)},t.scheduleCueSet=function(e,i){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=-1,a=1,r=0;r<e.length;r++){var o=e[r],h=o.ticks,d=o.time;(h!==s||n)&&(o.currentCue=a,t.song.addCue(d,t[i],o),s=h,a++)}},t.bgColour=0,t.setup=function(){t.canvas=t.createCanvas(t.canvasWidth,t.canvasHeight),t.background(t.bgColour),t.colorMode(t.HSB),t.angleMode(t.DEGREES),t.frameRate(30)},t.triangles=[],t.spinningTriangles=[],t.draw=function(){if(t.audioLoaded&&t.song.isPlaying()){t.background(t.bgColour);for(var e=0;e<t.triangles.length;e++){var i=t.triangles[e],n=i.hue,s=i.x1,a=i.y1,r=i.x2,o=i.y2,h=i.x3,d=i.y3;i.canDraw&&(t.noFill(),t.stroke(n,100,100,.5),t.strokeWeight(16),t.triangle(s,a,r,o,h,d))}for(var c=0;c<t.spinningTriangles.length;c++){var u=t.spinningTriangles[c];u.update(),u.draw()}}},t.executeCueSet1=function(e){var i=t.random(0,360),n=e.currentCue,s=n%19,a=0===s?18:s-1;if(1===s&&n<77)for(var r=0;r<19;r++)t.triangles[r]={};else if(1===s&&n>=77){for(var o=0;o<19;o++)t.triangles[o].canDraw=!1;t.triangles=u(t.triangles)}t.triangles[a].hue=i,t.triangles[a].canDraw=!0,n<77&&(t.triangles[a].x1=t.width/2,t.triangles[a].y1=0+t.height/16*s,t.triangles[a].x2=0+t.width/16*s,t.triangles[a].y2=t.height-t.height/16*s,t.triangles[a].x3=t.width-t.width/16*s,t.triangles[a].y3=t.height-t.height/16*s)},t.executeCueSet2=function(e){var i=e.currentCue,n=1===i?0:(i-1)%8===0?8:(i-1)%8;t.bgColour=1===i?255:64-8*n},t.executeCueSet3=function(e){t.spinningTriangles.push(new p(t,t.width/2,t.height/2,t.width/16))},t.mousePressed=function(){t.audioLoaded&&(t.song.isPlaying()?t.song.pause():(parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&t.reset(),document.getElementById("play-icon").classList.add("fade-out"),t.canvas.addClass("fade-in"),t.song.play()))},t.creditsLogged=!1,t.logCredits=function(){!t.creditsLogged&&parseInt(t.song.currentTime())>=parseInt(t.song.buffer.duration)&&(t.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),t.song.stop())},t.reset=function(){},t.updateCanvasDimensions=function(){t.canvasWidth=window.innerWidth,t.canvasHeight=window.innerHeight,t.canvas=t.resizeCanvas(t.canvasWidth,t.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){t.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){t.updateCanvasDimensions()}),!0)};return Object(n.useEffect)((function(){new o(e,t.current)}),[]),Object(d.jsx)("div",{ref:t,children:Object(d.jsx)(c,{})})};var v=function(){return Object(d.jsx)(m,{})};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.fb7ce1a2.chunk.js.map